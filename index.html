<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>La Casa Box & Shakes - Cardápio</title>

    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#121212" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="apple-mobile-web-app-title" content="La Casa Box & Shakes" />
    <link
      rel="apple-touch-icon"
      href="https://i.ibb.co/FkSqmpJD/la-casa-de-doner-box-logo-final-trema-uniform-v2.webp"
    />
    <link
      rel="manifest"
      href="data:application/manifest+json;base64,eyJzaG9ydF9uYW1lIjoiTGEgQ2FzYSBCJlMiLCJuYW1lIjoiTGEgQ2FzYSBCb3ggJiBTaGFrZXMiLCJpY29ucyI6W3sic3JjIjoiaHR0cHM6Ly9pLmliYi5jby9Ga1NxbXBJRC9sYS1jYXNhLWRlLWRvbmVyLWJveC1sb2dvLWZpbmFsLXRyZW1hLXVuaWZvcm0tdjIud2VicCIsInR5cGUiOiJpbWFnZS93ZWJwIiwic2l6ZXMiOiIxOTJ4MTkyIn0seyJzcmMiOiJodHRwczovL2kuaWJiLmNvL0ZrU3FtcEpEL2xhLWNhc2EtZGUtZG9uZXItYm94LWxvZ28tZmluYWwtdHJlbWEtdW5pZm9ybS12Mi53ZWJwIiwidHlwZSI6ImltYWdlL3dlYnAiLCJzaXplcyI6IjUxMng1MTIifV0sInN0YXJ0X3VybCI6Ii4iLCJiYWNrZ3JvdW5kX2NvbG9yIjoiIzEyMTIxMiIsImRpc3BsYXkiOiJzdGFuZGFsb25lIiwic2NvcGUiOiIuIiwidGhlbWVfY29sb3IiOiIjMTIxMjEyIn0="
    />

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts: Anton (nova), Dancing Script, Roboto -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Anton&family=Dancing+Script:wght@700&family=Roboto:wght@400;700&display=swap"
      rel="stylesheet"
    />

    <!-- Estilos personalizados -->
    <style>
      body {
        font-family: "Roboto", sans-serif;
        background-color: #581c87; /* Roxo escuro */
        /* Ajuste para o rodapé fixo */
        display: flex;
        flex-direction: column;
        min-height: 100vh;
      }
      /* Faz o conteúdo principal crescer e empurrar o rodapé para baixo */
      main {
        flex-grow: 1;
      }
      .font-anton {
        font-family: "Anton", sans-serif;
      }
      .font-dancing {
        font-family: "Dancing Script", cursive;
      }
      /* Estilo da barra de rolagem */
      ::-webkit-scrollbar {
        width: 8px;
      }
      ::-webkit-scrollbar-track {
        background: #232323;
      }
      ::-webkit-scrollbar-thumb {
        background: #e53935; /* Vermelho */
        border-radius: 4px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #fdd835; /* Amarelo */
      }
      /* Estilos para o Carrinho */
      #cart-container {
        transform: translateY(100%);
        transition: transform 0.3s ease-in-out;
      }
      #cart-container.is-open {
        transform: translateY(0);
      }
      /* Animação para a descrição aparecer */
      .item-description {
        transition: max-height 0.5s ease-in-out, opacity 0.5s ease-in-out,
          padding 0.5s ease-in-out;
        max-height: 0;
        opacity: 0;
        overflow: hidden;
        padding-bottom: 0 !important;
      }
      .item-description.show {
        max-height: 200px;
        opacity: 1;
        padding-bottom: 0.75rem !important;
      }
      /* ESTILOS ATUALIZADOS para botões de filtro */
      .filter-btn {
        background-color: #ef4444; /* Vermelho */
        color: white;
        padding: 0.5rem 1rem;
        border-radius: 9999px;
        font-weight: bold;
        transition: all 0.2s;
        border: 2px solid #000; /* Borda preta */
      }
      .filter-btn:hover {
        background-color: #dc2626; /* Vermelho mais escuro no hover */
        color: white;
      }
      .filter-btn.active {
        background-color: #fdd835; /* Amarelo */
        color: #121212; /* Preto */
        border-color: #fdd835;
      }
    </style>
  </head>
  <body class="bg-purple-900 text-white">
    <!-- Cabeçalho com fundo preto -->
    <header class="py-6 md:py-10 bg-black shadow-xl">
      <div class="container mx-auto text-center px-4">
        <h1
          class="font-anton text-3xl sm:text-5xl md:text-7xl tracking-wider flex items-center flex-wrap justify-center gap-x-2 sm:gap-x-3 gap-y-2"
        >
          <span class="text-red-600">LA CASA</span>
          <span class="bg-white text-red-600 px-3 py-1 rounded-md leading-none"
            >BOX</span
          >
          <span class="text-purple-500">& SHAKES</span>
        </h1>
        <p class="font-dancing text-white text-xl sm:text-2xl md:text-3xl mt-4">
          O sabor que te pega de jeito!
        </p>
      </div>
    </header>

    <!-- Conteúdo Principal -->
    <main class="container mx-auto px-4 pb-40">
      <!-- Botões de Filtro de Categoria -->
      <div
        id="category-filters"
        class="flex flex-wrap justify-center gap-2 sm:gap-4 my-8"
      >
        <!-- Botões serão inseridos aqui -->
      </div>
      <div id="menu" class="grid grid-cols-2 md:grid-cols-3 gap-4">
        <!-- Os itens do menu serão inseridos aqui pelo JavaScript -->
      </div>
    </main>

    <!-- Rodapé -->
    <footer class="bg-black text-white py-8 shadow-inner mt-10">
      <div class="container mx-auto px-4 text-center text-gray-400">
        <h3 class="font-anton text-2xl text-white mb-4">Nossa Qualidade</h3>
        <div class="max-w-3xl mx-auto text-sm space-y-3">
          <p>
            <span class="font-bold text-purple-400">Açaí Premium:</span>
            Trabalhamos com açaí de procedência garantida da marca
            <span class="font-semibold text-white">Polpa Norte</span>, conhecido
            por sua pureza e sabor autêntico.
          </p>
          <p>
            <span class="font-bold text-yellow-400"
              >Batata Recheada Florão:</span
            >
            Nossas batatas são cuidadosamente selecionadas. Utilizamos a
            <span class="font-semibold text-white">batata tipo Florão</span>,
            ideal para um resultado cremoso por dentro e crocante por fora.
          </p>
        </div>
        <div class="mt-6 border-t border-gray-700 pt-4">
          <p class="text-xs">LA CASA BOX & SHAKES</p>
          <p class="text-xs">CNPJ: 49.713.998/0001-60</p>
          <p class="text-xs mt-2">Rio Brilhante - MS</p>
        </div>
      </div>
    </footer>

    <!-- Carrinho de Compras Flutuante -->
    <div
      id="cart-container"
      class="fixed bottom-0 left-0 right-0 bg-gray-900 border-t-4 border-red-600 shadow-2xl transition-transform"
    >
      <div class="container mx-auto p-4">
        <div
          class="flex justify-between items-center cursor-pointer"
          id="cart-header-area"
        >
          <h2 class="font-anton text-2xl text-yellow-400">
            Meu Pedido (<span id="cart-count">0</span> itens)
          </h2>
          <button id="toggle-cart-btn" class="p-2">
            <svg
              id="cart-arrow"
              class="w-6 h-6 text-white transition-transform"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M5 15l7-7 7 7"
              ></path>
            </svg>
          </button>
        </div>
        <div id="cart-content" class="overflow-hidden">
          <div id="cart-items" class="mt-4 max-h-48 overflow-y-auto hidden">
            <p id="empty-cart-message" class="text-gray-400 text-center py-4">
              Seu carrinho está vazio.
            </p>
          </div>
          <div id="cart-footer" class="mt-4 hidden">
            <div class="flex justify-between items-center text-xl font-bold">
              <span>Total:</span>
              <span id="cart-total">R$ 0,00</span>
            </div>
            <button
              id="open-checkout-modal-btn"
              class="w-full bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-4 rounded-lg mt-4 transition-colors duration-300 flex items-center justify-center text-lg shadow-lg"
            >
              <img
                src="https://i.ibb.co/sXKCwKs/3536445.png"
                alt="WhatsApp Icon"
                class="w-6 h-6 mr-3"
              />
              Finalizar no WhatsApp
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal de Checkout -->
    <div
      id="checkout-modal"
      class="modal-overlay fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 hidden opacity-0"
    >
      <div
        class="modal-content bg-gray-800 rounded-xl shadow-2xl p-6 w-full max-w-md transform scale-95 border-t-4 border-red-600"
      >
        <h2 class="font-anton text-3xl text-yellow-400 mb-4">Quase lá!</h2>
        <p class="text-gray-300 mb-6">
          Preencha seus dados para enviarmos o pedido.
        </p>
        <form id="checkout-form">
          <div class="mb-4">
            <label
              for="customer-name"
              class="block text-gray-300 mb-2 font-bold"
              >Nome (para entrega)</label
            >
            <input
              type="text"
              id="customer-name"
              class="w-full bg-gray-700 border border-gray-600 rounded-lg py-2 px-3 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400"
              required
            />
          </div>

          <div class="mb-4">
            <label class="block text-gray-300 mb-2 font-bold"
              >Opção de Entrega</label
            >
            <div class="flex gap-4" id="delivery-options">
              <div class="flex-1">
                <input
                  type="radio"
                  id="delivery"
                  name="delivery_option"
                  value="delivery"
                  class="hidden peer"
                  checked
                />
                <label
                  for="delivery"
                  class="block cursor-pointer p-3 text-center rounded-lg border-2 border-gray-600 peer-checked:border-green-500 peer-checked:bg-green-500 peer-checked:bg-opacity-20 transition-all"
                >
                  <span class="font-bold">Delivery</span>
                </label>
              </div>
              <div class="flex-1">
                <input
                  type="radio"
                  id="pickup"
                  name="delivery_option"
                  value="pickup"
                  class="hidden peer"
                />
                <label
                  for="pickup"
                  class="block cursor-pointer p-3 text-center rounded-lg border-2 border-gray-600 peer-checked:border-yellow-400 peer-checked:bg-yellow-400 peer-checked:bg-opacity-20 transition-all"
                >
                  <span class="font-bold">Retirada</span>
                </label>
              </div>
            </div>
          </div>

          <div id="address-fields" class="mb-4">
            <div class="flex gap-4">
              <div class="flex-grow">
                <label
                  for="customer-street"
                  class="block text-gray-300 mb-2 font-bold"
                  >Rua</label
                >
                <input
                  type="text"
                  id="customer-street"
                  class="w-full bg-gray-700 border border-gray-600 rounded-lg py-2 px-3 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400"
                />
              </div>
              <div>
                <label
                  for="customer-number"
                  class="block text-gray-300 mb-2 font-bold"
                  >Nº</label
                >
                <input
                  type="text"
                  id="customer-number"
                  class="w-24 bg-gray-700 border border-gray-600 rounded-lg py-2 px-3 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400"
                />
              </div>
            </div>
          </div>

          <div
            id="pickup-address"
            class="mb-4 p-3 bg-gray-700 rounded-lg text-center hidden"
          >
            <p class="font-bold text-white">Endereço para Retirada:</p>
            <p class="text-yellow-400">Av. Lourival Barbosa, 68 - Olímpico</p>
          </div>

          <div class="mb-6">
            <label class="block text-gray-300 mb-2 font-bold"
              >Forma de Pagamento</label
            >
            <div class="flex gap-2 sm:gap-4" id="payment-options">
              <div class="flex-1">
                <input
                  type="radio"
                  id="pix"
                  name="payment_option"
                  value="Pix"
                  class="hidden peer"
                  checked
                />
                <label
                  for="pix"
                  class="block cursor-pointer p-3 text-center rounded-lg border-2 border-gray-600 peer-checked:border-blue-500 peer-checked:bg-blue-500 peer-checked:bg-opacity-20 transition-all"
                >
                  <span class="font-bold text-sm sm:text-base">Pix</span>
                </label>
              </div>
              <div class="flex-1">
                <input
                  type="radio"
                  id="dinheiro"
                  name="payment_option"
                  value="Dinheiro"
                  class="hidden peer"
                />
                <label
                  for="dinheiro"
                  class="block cursor-pointer p-3 text-center rounded-lg border-2 border-gray-600 peer-checked:border-green-500 peer-checked:bg-green-500 peer-checked:bg-opacity-20 transition-all"
                >
                  <span class="font-bold text-sm sm:text-base">Dinheiro</span>
                </label>
              </div>
              <div class="flex-1">
                <input
                  type="radio"
                  id="cartao"
                  name="payment_option"
                  value="Cartão"
                  class="hidden peer"
                />
                <label
                  for="cartao"
                  class="block cursor-pointer p-3 text-center rounded-lg border-2 border-gray-600 peer-checked:border-yellow-400 peer-checked:bg-yellow-400 peer-checked:bg-opacity-20 transition-all"
                >
                  <span class="font-bold text-sm sm:text-base">Cartão</span>
                </label>
              </div>
            </div>
          </div>

          <div
            id="order-summary"
            class="my-6 border-t border-gray-700 pt-4 space-y-2"
          >
            <div class="flex justify-between text-gray-300">
              <span>Subtotal</span>
              <span id="summary-subtotal">R$ 0,00</span>
            </div>
            <div
              class="flex justify-between text-gray-300"
              id="summary-delivery-line"
            >
              <span>Taxa de Entrega</span>
              <span id="summary-delivery-fee">R$ 0,00</span>
            </div>
            <div class="flex justify-between font-bold text-white text-lg">
              <span>Total a Pagar</span>
              <span id="summary-total">R$ 0,00</span>
            </div>
          </div>

          <p id="form-error" class="text-red-500 text-sm mb-4 hidden">
            ⚠️ Por favor, preencha todos os campos necessários.
          </p>

          <div class="flex justify-end gap-4">
            <button
              type="button"
              id="cancel-checkout-btn"
              class="bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-6 rounded-lg transition-colors shadow-md"
            >
              Cancelar
            </button>
            <button
              type="submit"
              id="confirm-checkout-btn"
              class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-6 rounded-lg transition-colors shadow-md"
            >
              Enviar Pedido
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Notificação de Compra Falsa -->
    <div
      id="fake-purchase-notification"
      class="fixed top-24 left-4 bg-gray-800 border border-gray-700 text-white py-3 px-5 rounded-lg shadow-lg opacity-0 transform -translate-y-full transition-all duration-500 z-40"
    >
      <!-- O conteúdo será gerado pelo JavaScript -->
    </div>

    <!-- Modal de Item Adicionado (Notificação) -->
    <div
      id="notification"
      class="fixed top-5 right-5 z-50 bg-green-500 text-white py-2 px-4 rounded-lg shadow-lg opacity-0 transform translate-x-full transition-all duration-300"
    >
      ✅ Item adicionado ao carrinho!
    </div>

    <script>
      // O código de áudio foi removido para simplificar, pois não era usado.
      // --- Service Worker Registration ---
      if ("serviceWorker" in navigator) {
        window.addEventListener("load", () => {
          // No ambiente real, 'sw.js' seria um arquivo separado.
          console.log(
            "ServiceWorker registration skipped in this sandbox environment. (PWA feature)"
          );
        });
      }
    </script>

    <script>
      // --- CONFIGURAÇÕES ---
      const phoneNumber = "5567998828547"; // SEU NÚMERO DE WHATSAPP AQUI
      const deliveryFee = 5.99;
      const defaultImagePlaceholder =
        "https://placehold.co/400x300/e53935/fff?text=LA+CASA+BOX+%26+SHAKES";

      // ITENS DO MENU ORDENADOS POR PREÇO
      const menuItems = [
        {
          id: 42,
          name: "Batata Recheada de Calabresa",
          category: "Batata recheada no pote 500(g)",
          description:
            "Batata recheada de calabresa, requeijão cremoso, cheddar derretido e queijo mussarela gratinada no maçarico — sabor irresistível!",
          price: 27.0,
          image:
            "https://i.ibb.co/HLZcJrsT/Chat-GPT-Image-18-de-out-de-2025-00-16-23.png",
        },
        {
          id: 43,
          name: "Batata Recheada de Bacon e Calabresa",
          category: "Batata recheada no pote 500(g)",
          description:
            "Batata recheada de bacon crocante e calabresa suculenta, coberta com requeijão cremoso, cheddar derretido e mussarela gratinada no maçarico!",
          price: 29.9,
          image:
            "https://i.ibb.co/wZR6TTKy/Chat-GPT-Image-17-de-out-de-2025-22-33-26.png",
        },
        {
          id: 54,
          name: "Batata Recheada de Frango com Bacon",
          category: "Batata recheada no pote 500(g)",
          description:
            "Deliciosa batata recheada com cubos de frango e bacon crocante, coberta com cheddar e mussarela gratinada no maçarico.",
          price: 31.9,
          image:
            "https://i.ibb.co/qS3btWy/Chat-GPT-Image-18-de-out-de-2025-12-36-26.png",
        },
        {
          id: 53,
          name: "Batata Recheada de Carne Seca",
          category: "Batata recheada no pote 500(g)",
          description:
            "Deliciosa batata recheada com carne seca desfiada, requeijão cremoso e queijo mussarela gratinado no maçarico. Um clássico irresistível!",
          price: 32.0,
          image:
            "https://i.ibb.co/5W80XnK2/Chat-GPT-Image-18-de-out-de-2025-12-25-08.png",
        },
        {
          id: 39,
          name: "Batata Recheada de Strogonoff de Frango",
          category: "Batata recheada no pote 500(g)",
          description:
            "Creme de batata com strogonoff de frango cremoso, coberto com queijo mussarela gratinado e batata palha.",
          price: 33.0,
          image:
            "https://i.ibb.co/8D5PmwKh/Chat-GPT-Image-18-de-out-de-2025-10-13-42.png",
        },
        {
          id: 44,
          name: "Batata Recheada de Strogonoff de Carne",
          category: "Batata recheada no pote 500(g)",
          description:
            "Batata recheada com strogonoff de carne macia, requeijão cremoso, cheddar e mussarela gratinada no maçarico — finalizada com batata palha crocante!",
          price: 35.0,
          image:
            "https://i.ibb.co/Lz0vkLHn/Chat-GPT-Image-17-de-out-de-2025-22-34-35.png",
        },

        {
          id: 50,
          name: "Combo Batata Calabresa + Coca-Cola Lata",
          category: "Combos",
          description:
            "Sua batata recheada de calabresa favorita acompanhada de uma Coca-Cola lata 350ml gelada.",
          price: 31.9,
          image:
            "https://i.ibb.co/HLZcJrsT/Chat-GPT-Image-18-de-out-de-2025-00-16-23.png",
        },
        {
          id: 51,
          name: "Combo Batata Strogonoff de Frango + Coca-Cola Lata",
          category: "Combos",
          description:
            "A combinação perfeita da nossa batata de strogonoff de frango com uma Coca-Cola lata 350ml.",
          price: 37.9,
          image:
            "https://i.ibb.co/8D5PmwKh/Chat-GPT-Image-18-de-out-de-2025-10-13-42.png",
        },

        {
          id: 32,
          name: "Shake de Açaí Leitinho",
          category: "Shakes de Açaí na Garrafa 300ml",
          description:
            "A cremosidade inconfundível do Leite Ninho em um shake de açaí Polpanorte que é pura nostalgia e sabor. Uma delícia a cada gole!",
          price: 18.0,
          image: "https://i.ibb.co/ccB0Vbbt/5.png",
        },
        {
          id: 31,
          name: "Shake de Açaí com Ninho e Paçoca",
          category: "Shakes de Açaí na Garrafa 300ml",
          description:
            "A cremosidade do Leite Ninho se une à crocância da paçoca e à energia do açaí Polpanorte. Uma combinação clássica e deliciosa!",
          price: 20.0,
          image: "https://i.ibb.co/0V9Q0zNN/4.png",
        },
        {
          id: 29,
          name: "Shake de Açaí com Avelã",
          category: "Shakes de Açaí na Garrafa 300ml",
          description:
            "A combinação perfeita do açaí Polpanorte com o sabor intenso da avelã. Cremoso, refrescante e irresistível — um shake que conquista no primeiro gole!",
          price: 22.0,
          image: "https://i.ibb.co/xSf6M8xB/2.png",
        },
        {
          id: 30,
          name: "Shake de Açaí com Pistache",
          category: "Shakes de Açaí na Garrafa 300ml",
          description:
            "A sofisticação do pistache encontra a energia do açaí Polpanorte. Um shake cremoso e com um sabor único que vai te conquistar.",
          price: 23.0,
          image: "https://i.ibb.co/G3pnzG4X/3.png",
        },
        {
          id: 33,
          name: "Shake de Açaí com Pistache e Avelã",
          category: "Shakes de Açaí na Garrafa 300ml",
          description:
            "A união perfeita entre a sofisticação do pistache e o sabor marcante da avelã, misturados ao nosso açaí Polpanorte. Um shake premium e inesquecível.",
          price: 24.0,
          image: "https://i.ibb.co/jkjvYnnn/6.png",
        },

        {
          id: 37,
          name: "Shake de Açaí Leitinho (500ml)",
          category: "Shakes de Açaí na Garrafa 500ml",
          description:
            "A cremosidade inconfundível do Leite Ninho em um shake de açaí Polpanorte que é pura nostalgia e sabor. Uma delícia a cada gole!",
          price: 23.0,
          image: "https://i.ibb.co/ccB0Vbbt/5.png",
        },
        {
          id: 36,
          name: "Shake de Açaí com Ninho e Paçoca (500ml)",
          category: "Shakes de Açaí na Garrafa 500ml",
          description:
            "A cremosidade do Leite Ninho se une à crocância da paçoca e à energia do açaí Polpanorte. Uma combinação clássica e deliciosa!",
          price: 25.0,
          image: "https://i.ibb.co/0V9Q0zNN/4.png",
        },
        {
          id: 34,
          name: "Shake de Açaí com Avelã (500ml)",
          category: "Shakes de Açaí na Garrafa 500ml",
          description:
            "A combinação perfeita do açaí Polpanorte com o sabor intenso da avelã. Cremoso, refrescante e irresistível — um shake que conquista no primeiro gole!",
          price: 27.0,
          image: "https://i.ibb.co/xSf6M8xB/2.png",
        },
        {
          id: 35,
          name: "Shake de Açaí com Pistache (500ml)",
          category: "Shakes de Açaí na Garrafa 500ml",
          description:
            "A sofisticação do pistache encontra a energia do açaí Polpanorte. Um shake cremoso e com um sabor único que vai te conquistar.",
          price: 28.0,
          image: "https://i.ibb.co/G3pnzG4X/3.png",
        },
        {
          id: 38,
          name: "Shake de Açaí com Pistache e Avelã (500ml)",
          category: "Shakes de Açaí na Garrafa 500ml",
          description:
            "A união perfeita entre a sofisticação do pistache e o sabor marcante da avelã, misturados ao nosso açaí Polpanorte. Um shake premium e inesquecível.",
          price: 29.0,
          image: "https://i.ibb.co/jkjvYnnn/6.png",
        },

        // NOVA CATEGORIA BEBIDAS
        {
          id: 48,
          name: "Água Mineral sem Gás",
          category: "Bebidas",
          description: "Garrafa 500ml.",
          price: 3.5,
          image: "https://placehold.co/400x300/2196f3/fff?text=Água",
        },
        {
          id: 47,
          name: "Água Mineral com Gás",
          category: "Bebidas",
          description: "Garrafa 500ml.",
          price: 4.0,
          image: "https://placehold.co/400x300/00bcd4/fff?text=Água+com+Gás",
        },
        {
          id: 52,
          name: "Coca-Cola 250ml",
          category: "Bebidas",
          description: "Garrafa 250ml de Coca-Cola bem gelada.",
          price: 6.0,
          image:
            "https://i.ibb.co/HLJW25nC/Chat-GPT-Image-18-de-out-de-2025-11-47-18.png",
        },
        {
          id: 45,
          name: "Coca-Cola Lata",
          category: "Bebidas",
          description: "Lata 350ml gelada.",
          price: 6.0,
          image: "https://placehold.co/400x300/f44336/fff?text=Coca-Cola",
        },
        {
          id: 46,
          name: "Guaraná Antarctica Lata",
          category: "Bebidas",
          description: "Lata 350ml gelada.",
          price: 6.0,
          image: "https://placehold.co/400x300/8bc34a/000?text=Guaraná",
        },
        {
          id: 49,
          name: "Coca-Cola 1.5L",
          category: "Bebidas",
          description: "Garrafa de 1.5 litro de Coca-Cola bem gelada.",
          price: 13.0,
          image:
            "https://i.ibb.co/Kz3zKp87/Chat-GPT-Image-18-de-out-de-2025-11-38-16.png",
        },
      ];

      // --- DADOS PARA NOTIFICAÇÃO FALSA ---
      const fakeNames = [
        "Ana",
        "Carlos",
        "Bruna",
        "Daniel",
        "Eduarda",
        "Felipe",
        "Gabriela",
        "Heitor",
        "Isabela",
        "João",
        "Larissa",
        "Miguel",
      ];
      const fakeNeighborhoods = [
        "Centro",
        "Vila Nova",
        "Morada do Sol",
        "Benedito Rondon",
        "Nova Esperança",
        "Olímpico",
        "Progresso",
        "Jardim a Gramado",
      ];
      const productNames = menuItems.map((item) => item.name);

      // --- LÓGICA DA APLICAÇÃO ---
      document.addEventListener("DOMContentLoaded", () => {
        const menuElement = document.getElementById("menu");
        const cartItemsElement = document.getElementById("cart-items");
        const cartTotalElement = document.getElementById("cart-total");
        const cartCountElement = document.getElementById("cart-count");
        const emptyCartMessage = document.getElementById("empty-cart-message");
        const cartContainer = document.getElementById("cart-container");
        const toggleCartBtn = document.getElementById("toggle-cart-btn");
        const cartArrow = document.getElementById("cart-arrow");
        const cartFooter = document.getElementById("cart-footer");
        const notification = document.getElementById("notification");
        const checkoutModal = document.getElementById("checkout-modal");
        const openCheckoutModalBtn = document.getElementById(
          "open-checkout-modal-btn"
        );
        const cancelCheckoutBtn = document.getElementById(
          "cancel-checkout-btn"
        );
        const checkoutForm = document.getElementById("checkout-form");
        const formError = document.getElementById("form-error");
        const cartHeaderArea = document.getElementById("cart-header-area");
        // NOVOS ELEMENTOS DO FORMULÁRIO
        const deliveryOptions = document.getElementById("delivery-options");
        const addressFields = document.getElementById("address-fields");
        const pickupAddress = document.getElementById("pickup-address");
        const summarySubtotal = document.getElementById("summary-subtotal");
        const summaryDeliveryLine = document.getElementById(
          "summary-delivery-line"
        );
        const summaryDeliveryFee = document.getElementById(
          "summary-delivery-fee"
        );
        const summaryTotal = document.getElementById("summary-total");
        const fakePurchaseNotification = document.getElementById(
          "fake-purchase-notification"
        );
        const categoryFiltersContainer =
          document.getElementById("category-filters");

        let cart = [];
        let isCartOpen = false;

        function renderCategoryFilters() {
          const filters = [
            { key: "Todos", text: "Ver Todos" },
            { key: "Batata", text: "Batatas" },
            { key: "Shakes", text: "Shakes" },
            { key: "Bebidas", text: "Bebidas" },
          ];

          categoryFiltersContainer.innerHTML = filters
            .map(
              (filter, index) => `
                <button class="filter-btn ${
                  index === 0 ? "active" : ""
                }" data-filter="${filter.key}">
                    ${filter.text}
                </button>
            `
            )
            .join("");

          categoryFiltersContainer.addEventListener("click", (e) => {
            const target = e.target.closest("button");
            if (!target) return;

            document
              .querySelectorAll(".filter-btn")
              .forEach((btn) => btn.classList.remove("active"));
            target.classList.add("active");

            const filter = target.dataset.filter;
            renderMenu(filter);
          });
        }

        function renderMenu(filter = "Todos") {
          let itemsToRender = menuItems;

          if (filter === "Batata") {
            itemsToRender = menuItems.filter(
              (item) =>
                item.category.includes("Batata") ||
                item.category.includes("Combos")
            );
          } else if (filter !== "Todos") {
            itemsToRender = menuItems.filter((item) =>
              item.category.includes(filter)
            );
          }

          menuElement.innerHTML = "";

          const categories = [
            ...new Set(itemsToRender.map((item) => item.category)),
          ];

          categories.forEach((category, index) => {
            const categoryTitle = document.createElement("div");
            categoryTitle.className = `col-span-2 md:col-span-3 ${
              index > 0 ? "mt-8" : ""
            } mb-4`;
            categoryTitle.innerHTML = `<h2 class="font-anton text-3xl sm:text-4xl text-white border-b-2 border-yellow-400 inline-block pb-1">${category}</h2>`;
            menuElement.appendChild(categoryTitle);

            const itemsInCategory = itemsToRender.filter(
              (item) => item.category === category
            );

            itemsInCategory.forEach((item) => {
              const menuItemElement = document.createElement("div");
              menuItemElement.className =
                "menu-item-card bg-black rounded-lg overflow-hidden shadow-xl flex flex-col transition-transform hover:scale-[1.01] duration-200 cursor-pointer";
              // AJUSTE NA IMAGEM: Altura aumentada e object-cover para preencher
              menuItemElement.innerHTML = `
                <div class="toggle-description-area">
                  <img
                    src="${item.image}"
                    alt="${item.name}"
                    class="w-full h-48 object-cover"
                    onerror="this.onerror=null; this.src='${defaultImagePlaceholder}';"
                  >
                  <div class="p-3">
                    <h3 class="text-sm sm:text-base font-bold text-yellow-400">${
                      item.name
                    }</h3>
                  </div>
                </div>
                <p class="item-description text-gray-300 text-sm px-3">${
                  item.description
                }</p>
                
                <div class="p-3 pt-0 mt-auto">
                  <div class="flex justify-between items-center mb-2">
                    <div class="flex items-baseline">
                      <span class="text-md font-bold text-white mr-1">R$</span>
                      <span class="text-xl sm:text-2xl font-bold text-green-400">${item.price
                        .toFixed(2)
                        .replace(".", ",")}</span>
                    </div>
                    <button
                      data-id="${item.id}"
                      class="add-to-cart-btn bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-3 sm:px-4 rounded-lg text-sm transition-colors duration-300 shadow-md"
                    >
                      Adicionar
                    </button>
                  </div>
                </div>
              `;
              menuElement.appendChild(menuItemElement);
            });
          });
        }

        function showNotification(message = "✅ Item adicionado ao carrinho!") {
          notification.innerText = message;
          notification.classList.remove("opacity-0", "translate-x-full");
          notification.classList.add("opacity-100", "translate-x-0");
          setTimeout(() => {
            notification.classList.remove("opacity-100", "translate-x-0");
            notification.classList.add("opacity-0", "translate-x-full");
          }, 2000);
        }

        function addToCart(itemId) {
          const originalItem = menuItems.find((i) => i.id === itemId);

          if (!originalItem) return;

          const cartItem = cart.find((i) => i.id === itemId);

          if (cartItem) {
            cartItem.quantity++;
          } else {
            cart.push({ ...originalItem, quantity: 1 });
          }
          showNotification();
          updateCart();
        }

        function updateCart() {
          const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
          cartCountElement.innerText = totalItems;

          if (cart.length === 0) {
            cartItemsElement.innerHTML = "";
            cartItemsElement.appendChild(emptyCartMessage);
            emptyCartMessage.style.display = "block";
            cartFooter.classList.add("hidden");
            return;
          }

          emptyCartMessage.style.display = "none";
          cartFooter.classList.remove("hidden");

          const subtotal = cart.reduce(
            (sum, item) => sum + item.price * item.quantity,
            0
          );

          // O total do carrinho agora é apenas o subtotal
          cartTotalElement.innerText = `R$ ${subtotal
            .toFixed(2)
            .replace(".", ",")}`;

          cartItemsElement.innerHTML = cart
            .map(
              (item) =>
                `<div class="flex justify-between items-center p-3 bg-gray-700 rounded-lg mb-2 shadow-inner">
                  <div class="flex-grow pr-2">
                    <p class="font-bold text-white">${item.name}</p>
                    <p class="text-sm text-yellow-400">R$ ${item.price
                      .toFixed(2)
                      .replace(".", ",")}</p>
                  </div>
                  <div class="flex items-center gap-2">
                    <button class="quantity-change-btn p-1 bg-red-600 hover:bg-red-700 rounded-full w-6 h-6 flex items-center justify-center text-white text-xs font-bold" data-id="${
                      item.id
                    }" data-change="-1">
                      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"></path></svg>
                    </button>
                    <span class="font-bold text-white">${item.quantity}</span>
                    <button class="quantity-change-btn p-1 bg-green-500 hover:bg-green-600 rounded-full w-6 h-6 flex items-center justify-center text-white text-xs font-bold" data-id="${
                      item.id
                    }" data-change="1">
                      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg>
                    </button>
                    <button class="remove-item-btn ml-2 text-gray-400 hover:text-red-500 transition-colors" data-id="${
                      item.id
                    }">
                      <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 100 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z" clip-rule="evenodd"></path></svg>
                    </button>
                  </div>
                </div>`
            )
            .join("");

          if (!isCartOpen && cart.length > 0) {
            toggleCart(true);
          }
        }

        function handleCartActions(e) {
          const target = e.target.closest("button");
          if (!target) return;
          const id = parseInt(target.dataset.id);

          const itemInCart = cart.find((i) => i.id === id);

          if (target.classList.contains("quantity-change-btn")) {
            const change = parseInt(target.dataset.change);
            if (itemInCart) {
              itemInCart.quantity += change;
              if (itemInCart.quantity <= 0) {
                cart = cart.filter((i) => i.id !== id);
              }
            }
          }
          if (target.classList.contains("remove-item-btn")) {
            cart = cart.filter((i) => i.id !== id);
          }
          updateCart();
          if (cart.length === 0) {
            toggleCart(false);
          }
        }

        function updateOrderSummary() {
          const subtotal = cart.reduce(
            (sum, item) => sum + item.price * item.quantity,
            0
          );
          let finalTotal = subtotal;

          const isDelivery = document.getElementById("delivery").checked;

          summarySubtotal.innerText = `R$ ${subtotal
            .toFixed(2)
            .replace(".", ",")}`;

          if (isDelivery) {
            finalTotal += deliveryFee;
            summaryDeliveryLine.classList.remove("hidden");
            summaryDeliveryFee.innerText = `R$ ${deliveryFee
              .toFixed(2)
              .replace(".", ",")}`;
          } else {
            summaryDeliveryLine.classList.add("hidden");
          }

          summaryTotal.innerText = `R$ ${finalTotal
            .toFixed(2)
            .replace(".", ",")}`;
        }

        function toggleCart(forceState = null) {
          isCartOpen = forceState !== null ? forceState : !isCartOpen;
          cartContainer.classList.toggle("is-open", isCartOpen);
          cartArrow.classList.toggle("rotate-180", isCartOpen);

          if (isCartOpen) {
            cartItemsElement.style.display = "block";
          } else {
            setTimeout(() => {
              cartItemsElement.style.display = "none";
            }, 300);
          }

          if (cart.length > 0 && isCartOpen) {
            cartFooter.classList.remove("hidden");
          } else {
            cartFooter.classList.add("hidden");
          }
        }

        function toggleCheckoutModal(show) {
          if (show) {
            checkoutModal.classList.remove("hidden");
            document.getElementById("customer-name").focus();
            updateOrderSummary();

            // Garante que os campos de endereço apareçam se delivery estiver selecionado
            if (document.getElementById("delivery").checked) {
              addressFields.style.display = "block";
              pickupAddress.style.display = "none";
            } else {
              addressFields.style.display = "none";
              pickupAddress.style.display = "block";
            }
            setTimeout(() => {
              checkoutModal.classList.remove("opacity-0");
              checkoutModal
                .querySelector(".modal-content")
                .classList.remove("scale-95");
            }, 10);
          } else {
            checkoutModal.classList.add("opacity-0");
            checkoutModal
              .querySelector(".modal-content")
              .classList.add("scale-95");
            setTimeout(() => checkoutModal.classList.add("hidden"), 300);
          }
        }

        function finalizeOrder(e) {
          e.preventDefault();

          const name = document.getElementById("customer-name").value.trim();
          const deliveryOption = document.querySelector(
            'input[name="delivery_option"]:checked'
          ).value;
          const paymentMethod = document.querySelector(
            'input[name="payment_option"]:checked'
          ).value;
          let street = "";
          let number = "";
          let isFormValid = true;

          if (!name) {
            isFormValid = false;
          }

          if (deliveryOption === "delivery") {
            street = document.getElementById("customer-street").value.trim();
            number = document.getElementById("customer-number").value.trim();
            if (!street || !number) {
              isFormValid = false;
            }
          }

          if (!isFormValid) {
            formError.innerText =
              "⚠️ Por favor, preencha todos os campos necessários.";
            formError.classList.remove("hidden");
            return;
          }
          formError.classList.add("hidden");

          const subtotal = cart.reduce(
            (sum, item) => sum + item.price * item.quantity,
            0
          );
          let finalTotal = subtotal;

          const messageItems = cart
            .map(
              (item) =>
                `• ${item.name} (x${item.quantity}) - R$ ${(
                  item.price * item.quantity
                )
                  .toFixed(2)
                  .replace(".", ",")}`
            )
            .join("\n");

          let deliveryInfo = `*Opção:* Retirada no local\n*Endereço:* Av. Lourival Barbosa, 68 - Olímpico\n\n`;
          let orderSummary = `*Subtotal:* R$ ${subtotal
            .toFixed(2)
            .replace(".", ",")}\n`;

          if (deliveryOption === "delivery") {
            finalTotal += deliveryFee;
            deliveryInfo = `*Opção:* Entrega\n*Endereço:* ${street}, Nº ${number}\n\n`;
            orderSummary += `*Taxa de Entrega:* R$ ${deliveryFee
              .toFixed(2)
              .replace(".", ",")}\n`;
          }

          orderSummary += `*TOTAL:* *R$ ${finalTotal
            .toFixed(2)
            .replace(".", ",")}*\n`;
          orderSummary += `*Forma de Pagamento:* ${paymentMethod}`;

          let message = `*-- NOVO PEDIDO LA CASA BOX & SHAKES --* 🥤\n\n`;
          message += `*CLIENTE:* ${name}\n\n`;
          message += `*ITENS DO PEDIDO (${cart.reduce(
            (s, i) => s + i.quantity,
            0
          )} total):*\n`;
          message += `${messageItems}\n\n`;
          message += deliveryInfo;
          message += orderSummary;

          const finalMessage = encodeURIComponent(message);

          window.open(
            `https://wa.me/${phoneNumber}?text=${finalMessage}`,
            "_blank"
          );

          toggleCheckoutModal(false);

          cart = [];
          updateCart();
          toggleCart(false);
        }

        // --- LÓGICA DA NOTIFICAÇÃO FALSA ---
        function showFakePurchaseNotification() {
          const randomName =
            fakeNames[Math.floor(Math.random() * fakeNames.length)];
          const randomNeighborhood =
            fakeNeighborhoods[
              Math.floor(Math.random() * fakeNeighborhoods.length)
            ];
          const randomProduct =
            productNames[Math.floor(Math.random() * productNames.length)];

          // Constrói a mensagem
          fakePurchaseNotification.innerHTML = `
                <p class="text-sm"><strong class="text-green-400">${randomName}</strong> (${randomNeighborhood})</p>
                <p class="text-xs text-gray-400">acabou de comprar um ${randomProduct}</p>
            `;

          // Mostra a notificação
          fakePurchaseNotification.classList.remove(
            "opacity-0",
            "-translate-y-full"
          );
          fakePurchaseNotification.classList.add(
            "opacity-100",
            "translate-y-0"
          );

          // Esconde a notificação após alguns segundos
          setTimeout(() => {
            fakePurchaseNotification.classList.remove(
              "opacity-100",
              "translate-y-0"
            );
            fakePurchaseNotification.classList.add(
              "opacity-0",
              "-translate-y-full"
            );
          }, 5000); // Fica visível por 5 segundos
        }

        // --- LISTENERS ---
        document.addEventListener("click", (e) => {
          const button = e.target.closest(".add-to-cart-btn");
          if (button) {
            const itemId = parseInt(button.dataset.id);
            addToCart(itemId);
          }
        });

        deliveryOptions.addEventListener("change", (e) => {
          if (e.target.value === "delivery") {
            addressFields.style.display = "block";
            pickupAddress.style.display = "none";
            document.getElementById("customer-street").required = true;
            document.getElementById("customer-number").required = true;
          } else {
            addressFields.style.display = "none";
            pickupAddress.style.display = "block";
            document.getElementById("customer-street").required = false;
            document.getElementById("customer-number").required = false;
          }
          updateOrderSummary();
        });

        menuElement.addEventListener("click", (e) => {
          const toggleArea = e.target.closest(".toggle-description-area");
          if (toggleArea) {
            const card = toggleArea.closest(".menu-item-card");
            const description = card.querySelector(".item-description");
            if (description) {
              description.classList.toggle("show");
            }
            return;
          }
        });

        cartItemsElement.addEventListener("click", handleCartActions);
        toggleCartBtn.addEventListener("click", () => toggleCart());
        cartHeaderArea.addEventListener("click", (e) => {
          if (e.target.closest("#toggle-cart-btn")) return;
          toggleCart();
        });

        openCheckoutModalBtn.addEventListener("click", () => {
          if (cart.length > 0) {
            toggleCheckoutModal(true);
          } else {
            showNotification("⚠️ Seu carrinho está vazio!");
          }
        });
        cancelCheckoutBtn.addEventListener("click", () =>
          toggleCheckoutModal(false)
        );

        checkoutModal.addEventListener("click", (e) => {
          if (e.target === checkoutModal) {
            toggleCheckoutModal(false);
          }
        });
        document.addEventListener("keydown", (e) => {
          if (
            e.key === "Escape" &&
            !checkoutModal.classList.contains("hidden")
          ) {
            toggleCheckoutModal(false);
          }
        });

        checkoutForm.addEventListener("submit", finalizeOrder);

        // --- INICIALIZAÇÃO ---
        renderCategoryFilters();
        renderMenu("Todos"); // Inicia mostrando todas as categorias
        updateCart();
        toggleCart(false);

        // Inicia o ciclo de notificações falsas
        function startFakeNotificationCycle() {
          setTimeout(() => {
            showFakePurchaseNotification();
            setInterval(() => {
              showFakePurchaseNotification();
            }, Math.random() * (15000 - 8000) + 8000); // Entre 8 e 15 segundos
          }, 7000); // Começa após 7 segundos
        }

        startFakeNotificationCycle();
      });
    </script>
  </body>
</html>
